<h1>Dine Refleksioner</h1>
<div id="load" style="padding:40px;text-align:center">‚è≥ Henter refleksioner...</div>
<div id="list"></div>

<script>
window.addEventListener('message',function(e){try{var m=JSON.parse(e.data);if(m.type==='REFLECTIONS'){var l=document.getElementById('list'),ld=document.getElementById('load');ld.style.display='none';if(!m.payload.items||m.payload.items.length===0){l.innerHTML='<p style="text-align:center;padding:40px;color:#999">Ingen refleksioner endnu</p>';return;}var h='';m.payload.items.forEach(function(r){var d={};try{d=JSON.parse(r.text)}catch(x){}var dt=new Date(r.createdAt).toLocaleDateString('da-DK');h+='<div style="border:2px solid #ddd;padding:20px;margin:15px 0;border-radius:8px;background:#fff"><div style="color:#007AFF;font-weight:bold;margin-bottom:10px">'+dt+'</div>';if(d.q1)h+='<p><b>Q1:</b> '+d.q1+'</p>';if(d.q2)h+='<p><b>Q2:</b> '+d.q2+'</p>';if(d.txt)h+='<div style="background:#f5f5f5;padding:15px;margin-top:10px;border-radius:4px"><b>Refleksion:</b><br>'+d.txt+'</div>';h+='</div>';});l.innerHTML=h;}}catch(err){}});
document.addEventListener('message',function(e){try{var m=JSON.parse(e.data);if(m.type==='REFLECTIONS'){var l=document.getElementById('list'),ld=document.getElementById('load');ld.style.display='none';if(!m.payload.items||m.payload.items.length===0){l.innerHTML='<p style="text-align:center;padding:40px;color:#999">Ingen refleksioner endnu</p>';return;}var h='';m.payload.items.forEach(function(r){var d={};try{d=JSON.parse(r.text)}catch(x){}var dt=new Date(r.createdAt).toLocaleDateString('da-DK');h+='<div style="border:2px solid #ddd;padding:20px;margin:15px 0;border-radius:8px;background:#fff"><div style="color:#007AFF;font-weight:bold;margin-bottom:10px">'+dt+'</div>';if(d.q1)h+='<p><b>Q1:</b> '+d.q1+'</p>';if(d.q2)h+='<p><b>Q2:</b> '+d.q2+'</p>';if(d.txt)h+='<div style="background:#f5f5f5;padding:15px;margin-top:10px;border-radius:4px"><b>Refleksion:</b><br>'+d.txt+'</div>';h+='</div>';});l.innerHTML=h;}}catch(err){}});
setTimeout(function(){if(window.ReactNativeWebView){window.ReactNativeWebView.postMessage(JSON.stringify({type:'GET_REFLECTIONS',payload:{}}));}},500);
</script>
