<h1>SESSION DEBUG TEST</h1>

<div id="debug" style="background:#000;color:#0f0;padding:10px;font-family:monospace;font-size:12px;margin-bottom:20px;max-height:200px;overflow:auto"></div>

<p><b>Spørgsmål 1:</b></p>
<div id="q1">
<div style="padding:15px;margin:8px 0;border:2px solid #ddd;border-radius:8px;cursor:pointer;background:#fff" onclick="log('Q1 clicked'); document.querySelectorAll('#q1 div').forEach(function(x){x.style.background='#fff';x.style.borderColor='#ddd'}); this.style.background='#007AFF';this.style.borderColor='#007AFF';this.style.color='#fff'; window.a1='Positivt'; log('Q1 set: Positivt')">Positivt</div>
<div style="padding:15px;margin:8px 0;border:2px solid #ddd;border-radius:8px;cursor:pointer;background:#fff" onclick="log('Q1 clicked'); document.querySelectorAll('#q1 div').forEach(function(x){x.style.background='#fff';x.style.borderColor='#ddd'}); this.style.background='#007AFF';this.style.borderColor='#007AFF';this.style.color='#fff'; window.a1='Neutralt'; log('Q1 set: Neutralt')">Neutralt</div>
</div>

<button onclick="log('GEM clicked'); var d={id:'t-'+Date.now(),sessionId:'test',text:JSON.stringify({q1:window.a1||'NONE'}),createdAt:new Date().toISOString()}; log('Data: '+JSON.stringify(d)); if(window.ReactNativeWebView){log('WebView EXISTS - sending...'); window.ReactNativeWebView.postMessage(JSON.stringify({type:'SAVE_REFLECTION',payload:d})); log('SENT to app');}else{log('ERROR: No ReactNativeWebView!');} alert('Se debug log');" style="width:100%;padding:16px;background:#28a745;color:#fff;border:none;border-radius:8px;font-size:18px;cursor:pointer">GEM (se debug)</button>

<script>
function log(msg){
  var d=document.getElementById('debug');
  var t=new Date().toTimeString().split(' ')[0];
  d.innerHTML+='['+t+'] '+msg+'<br>';
  d.scrollTop=d.scrollHeight;
  console.log('[DEBUG]',msg);
}
log('Script loaded');
log('ReactNativeWebView: '+(window.ReactNativeWebView?'YES':'NO'));
</script>
